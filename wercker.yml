no-response-timeout: 15
box: combient/java-mvn
build:
  steps:
    - script:
        name: Foo
        code: echo Foo

build-medrec-image:
  box:
    id: alpine
    cmd: /bin/sh
    docker: true
  steps:
    - script:
        name: Install curl and Docker
        code: apk --no-cache add curl docker
    - script:
        name: Build docker image
        code: |
              docker login -u $DOCKERHUB_USERNAME -p $DOCKERHUB_PASSWORD
              docker build --file docker/Dockerfile.create \
                    --force-rm=true \
                    -t weblogic-medrec:$WERCKER_GIT_COMMIT .
#                    -t $REGION.ocir.io/$TENANCY/$WERCKER_APPLICATION_NAME:$WERCKER_GIT_COMMIT \
#                    -t $REGION.ocir.io/$TENANCY/$WERCKER_APPLICATION_NAME:latest .
